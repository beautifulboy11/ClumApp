{"version":3,"sources":["../../src/pages/member/member.module.ts","../../src/pages/member/member.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { MemberPage } from './member';\n\n@NgModule({\n  declarations: [\n    MemberPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MemberPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    MemberPage\n  ]\n})\nexport class ListMasterPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/member/member.module.ts","import { Component, OnInit } from \"@angular/core\";\nimport {\n  IonicPage,\n  ModalController,\n  NavController,\n  LoadingController,\n  PopoverController,\n} from \"ionic-angular\";\nimport { PopoverPage, MemberDetailPage } from \"../pages\";\nimport { Observable } from \"rxjs\";\nimport { AuthService } from \"../../providers/providers\";\nimport { User } from \"../../providers/authentication-service/user\";\nimport { DataService, MessageService } from \"../../providers/providers\";\n\n@IonicPage()\n@Component({\n  selector: \"page-member\",\n  templateUrl: \"member.html\"\n})\nexport class MemberPage implements OnInit {\n  club: string;\n  members: any = [];\n  mufMembers: any = [];\n  loading: any;\n  public signatureImage: any;\n  profileUrl: Observable<string | null>;\n  uploadPercent: Observable<number>;\n  downloadURL: Observable<string>;\n  disconnectSubscription: any;\n  connectSubscription: any;\n\n  constructor(\n    private api: DataService,\n    private navCtrl: NavController,\n    private loadingCtrl: LoadingController,\n    private modalCtrl: ModalController,\n    private popoverCtrl: PopoverController,\n    private message: MessageService,\n    private authService: AuthService\n  ) {\n    this.club = \"Nkana\";\n  }\n\n  ngOnInit() {\n    this.loadMembers();\n  }\n\n  loadMembers(): any {\n    this.loading = this.loadingCtrl.create({\n      content: \"Loading...\",\n      spinner: \"dots\",\n      showBackdrop: false\n    });\n\n    this.loading.present().then(() => {\n      this.api.get(\"/members\", true, true).subscribe(\n        res => {\n          this.members = [];\n          this.mufMembers = [];\n          res.forEach(resp => {\n            if (resp.club === \"Nkana\") {\n              this.members.push(resp);\n            } else {\n              this.mufMembers.push(resp);\n            }\n          });\n          this.loading.dismiss();\n        },\n        error => {\n          this.loading.dismiss().then(() => {\n            this.message.add(error.message);\n          });\n        }\n      );\n    });\n  }\n\n  showPopOver($event, member: any) {\n    let popover = this.popoverCtrl.create(PopoverPage, { member: member });\n    popover.present({\n      ev: $event\n    });\n  }\n\n  addMember() {\n    let addModal = this.modalCtrl.create(\"MemberCreatePage\");\n    addModal.onDidDismiss(member => {\n      if (member) {\n        () => { this.api.post(\"/members\", member) };\n      }\n    });\n    addModal.present();\n  }\n\n  openMemberDetails(member: any) {\n    this.navCtrl.push(MemberDetailPage, {\n      member: member\n    });\n  }\n\n  uploadFile(event) {\n    //const file = event.target.files[0];\n    //const filePath = \"name-your-file-path-here\";\n    //const task = this.storage.upload(filePath, file);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/member/member.ts"],"sourceRoot":""}