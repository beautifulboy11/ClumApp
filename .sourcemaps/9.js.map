{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component, OnInit } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  ToastController,\n  AlertController,\n  LoadingController,\n  MenuController\n} from \"ionic-angular\";\nimport { FormBuilder, Validators, FormGroup } from \"@angular/forms\";\nimport { AuthService } from \"../../providers/authentication-service/authentication-service\";\nimport { MainPage, ResetPasswordPage } from \"../pages\";\nimport { ScreenOrientation } from \"@ionic-native/screen-orientation\";\nimport { ApplicationUser } from \"../../models/applicationUser\";\nimport { MessageService } from \"../../providers/providers\";\n@IonicPage()\n@Component({\n  selector: \"page-login\",\n  templateUrl: \"login.html\"\n})\nexport class LoginPage implements OnInit {\n\n  public loginForm: FormGroup;\n  private submitAttempt: boolean = false;\n  private loginErrorString: string;\n  private loading: any;\n  private showImage: string;\n  model: ApplicationUser = { email: \"\", password: \"\" };\n  passicon: string = \"eye\";\n  type: string = \"password\";\n  margin_top: number;\n  noScroll: string = \"no-scroll\";\n  validEmail: boolean = false;\n  validPassword: boolean = false;\n  isFormValid: boolean;\n  email_dirty: string = \"form-control empty ok input-lg\";\n  password_dirty: string = \"form-control empty ok input-lg\";\n  constructor(\n    public navCtrl: NavController,\n    public authservice: AuthService,\n    public toastCtrl: ToastController,\n    public alertCtrl: AlertController,\n    public fb: FormBuilder,\n    public loadingCtrl: LoadingController,\n    private screenOrientation: ScreenOrientation,\n    private menu: MenuController,\n    private message: MessageService\n  ) { }\n\n  ngOnInit() {\n    this.createForm();\n    this.screenOrientation.onChange().subscribe(() => {\n      if (\n        this.screenOrientation.type ==\n        this.screenOrientation.ORIENTATIONS.PORTRAIT_PRIMARY\n      ) {\n        this.showImage = \"block\";\n        this.margin_top = 0;\n        this.noScroll = \"no-scroll\";\n      } else {\n        this.showImage = \"none\";\n        this.margin_top = -19;\n        this.noScroll = \"no-scroll\";\n      }\n    });\n  }\n\n  createForm() {\n    this.loginForm = this.fb.group({\n      email: [\n        \"\",\n        Validators.compose([\n          Validators.required,\n          Validators.pattern(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/)\n        ])\n      ],\n      password: [\"\", Validators.required]\n    });\n  }\n\n  togglePasswordVisible(event) {\n    event.preventDefault();\n    if (this.passicon == \"eye\") {\n      this.passicon = \"eye-off\";\n      this.type = \"text\";\n    } else {\n      this.passicon = \"eye\";\n      this.type = \"password\";\n    }\n  }\n\n  public emailChanged() {\n    let field = \"email\";\n    this[field + \"changed\"] = true;\n    this.isFormValid = this.loginForm.valid;\n    this.validEmail = this.loginForm.controls.email.valid;\n    if (this.loginForm.controls.email.value === \"\") {\n      this.email_dirty = \"form-control empty ok input-lg\";\n    } else {\n      if (this.validEmail) {\n        this.email_dirty = \"form-control not-empty ok input-lg\";\n\n      } else {\n        this.email_dirty = \"form-control not-empty not-ok input-lg\";\n      }\n    }\n  }\n\n  public passwordChanged() {\n    let field = \"password\";\n    this[field + \"changed\"] = true;\n    this.isFormValid = this.loginForm.valid;\n    this.validPassword = this.loginForm.controls.password.valid;\n    if (this.loginForm.controls.password.value === \"\") {\n      this.password_dirty = \"form-control empty not-ok input-lg\";\n    } else {\n      this.password_dirty = \"form-control not-empty ok input-lg\";\n    }\n  }\n\n  public Signup() {\n    alert('Sorry, You are not allowed to sign up at this time');\n    //this.navCtrl.push(\"SignupPage\");\n  }\n  public removeAuth(code: string): string {\n    return code\n      .substring(5)\n      .replace(\"-\", \" \")\n      .toUpperCase();\n  }\n\n  public Login(): any {\n    this.submitAttempt = true;\n    if (this.isFormValid) {\n      this.authservice\n        .doLogin({ email: this.loginForm.controls.email.value, password: this.loginForm.controls.password.value })\n        .subscribe(auth => {\n          if (auth) {\n            this.navCtrl.setRoot(\"TabsPage\");\n          }\n        },\n          error => {\n            this.loading.dismiss().then(() => {\n              this.showError(error);\n            });\n          });\n      this.showLoading();\n    } else {\n      return;\n    }\n  }\n\n  showError(error) {\n    let alert = this.alertCtrl.create({\n      title: this.removeAuth(error.code),\n      message: error.message,\n      buttons: [\n        {\n          text: \"Ok\",\n          role: \"cancel\"\n        }\n      ]\n    }).present();\n  }\n\n  showLoading() {\n    this.loading = this.loadingCtrl.create({\n      dismissOnPageChange: true\n    });\n    this.loading.present();\n  }\n\n  public resetPassword() {\n    this.navCtrl.push(ResetPasswordPage);\n  }\n\n  ionViewDidEnter() {\n    this.menu.enable(false);\n  }\n\n  ionViewWillLeave() {\n    this.menu.enable(true);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}