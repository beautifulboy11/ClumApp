{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    SearchPage\n  ]\n})\nexport class SearchPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  ToastController,\n  NavParams\n} from \"ionic-angular\";\nimport * as _ from \"lodash\";\nimport { Api } from \"../../providers/providers\";\nimport { Member } from \"../../models/member\";\n\n@IonicPage()\n@Component({\n  selector: \"page-search\",\n  templateUrl: \"search.html\"\n})\nexport class SearchPage {\n  currentItems: any = [];\n  members: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public toastCtrl: ToastController,\n    public api: Api\n  ) {}\n\n  ionViewDidLoad() {\n    this.api.getMembers().subscribe(\n      (resp) => {      \n        this.currentItems = resp;       \n      },\n      (error) => {\n        let toast = this.toastCtrl.create({\n          position: \"bottom\",\n          message: error,\n          showCloseButton: true,\n          cssClass: \"toast-message\",\n          closeButtonText: \"OK\",\n          dismissOnPageChange: true\n        });\n        toast.present();\n      }\n    );\n  }\n\n  getItems(ev) {\n    let val = ev.target.value;\n    console.log(JSON.stringify(val));\n    if (!val || !val.trim()) {\n      this.members = [];\n      return;\n    }\n    console.log(JSON.stringify(this.members));\n    this.members = this.query({\n      firstName: val,\n      lastName: val,\n      membershipNumber: val\n    });\n    console.info(\"**Search Results\", this.members);\n  }\n\n  query(params?: any) {\n    if (!params) {\n      return;\n    }\n    return _.chain(this.currentItems)\n      .filter(membersArr => {\n        console.log(\"Member in query \", membersArr);\n        for (let key in params) {\n          console.log(\"Params in query \",params);\n          let field = membersArr[key];\n          console.log(\"Fiels in Array \",field);\n          if (\n            _.includes(membersArr, params[key])\n            //typeof field == 'string' && field.toLowerCase().indexOf(params[key].toLowerCase()) >= 0\n          ) {\n            return membersArr;\n          } else if (field == params[key]) {\n            return membersArr;\n          }\n        }\n        return null;\n      })\n      .map(member => {\n        let isActive = member.status === \"active\";\n        let status = isActive ? true : false;\n        let chk = status ? \"secondary\" : \"dark\";\n        let name = this.concatenateName(member.firstName, member.lastName);\n        console.log(\"****\");\n        return {\n          About: member.about,\n          Club: member.club,\n          Contact: member.contact,\n          Name: name,\n          MemberShipNumber: member.membershipNumber,\n          ProfilePic: member.profilePic,\n          Status: status,\n          Note: member.status,\n          Chk: chk\n        };\n      })\n      .value();\n  }\n\n  concatenateName(firstname: string, lastname: string): string {\n    return firstname + \" \" + lastname;\n  }\n\n  openItem(item: Member) {\n    this.navCtrl.push(\"MemberDetailPage\", {\n      item: item\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}